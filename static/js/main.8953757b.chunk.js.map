{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Modal","largeImageURL","pictureName","onClickModal","onChange","className","css","overlay","onClick","onKeyDown","modal","src","alt","ImageGalleryItem","id","url","useState","status","setStatus","useEffect","window","addEventListener","handleKeyPressESC","removeEventListener","e","key","imageGalleryItem","imageGalleryItemImage","ImageGallery","images","map","webformatURL","Searchbar","onSubmit","inputValue","setInputValue","searchbar","searchForm","preventDefault","trim","toast","error","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","value","placeholder","target","toLowerCase","position","toastOptions","duration","style","border","width","Button","onClickImage","button","App","setImages","setPictureName","page","setPage","URL","fetch","then","res","json","hits","handleFormSubmit","color","height","loader","length","prevState","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8953757b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1eKyf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2H_vQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__7ugap\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__34G92\",\"searchForm\":\"Searchbar_searchForm__2F4Xk\",\"searchFormButton\":\"Searchbar_searchFormButton__ilsgR\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__1lsyS\",\"searchFormInput\":\"Searchbar_searchFormInput__20SoB\"};","import PropTypes from 'prop-types';\r\nimport css from './Modal.module.css'\r\n\r\n\r\n\r\nconst Modal = ({ largeImageURL, pictureName, onClickModal, onChange }) => {\r\n  return (\r\n    <div className={css.overlay} onClick={onClickModal} onKeyDown={onChange}>\r\n  <div className={ css.modal}>\r\n        <img src={largeImageURL} alt={pictureName } />\r\n  </div>\r\n</div>\r\n  )\r\n}\r\n\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  pictureName: PropTypes.string.isRequired,\r\n  onClickModal: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n}\r\n\r\n\r\nexport default Modal\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport css from './ImageGalleryItem.module.css';\r\nimport Modal from 'components/Modal';\r\n\r\nconst ImageGalleryItem = ({ id, url, largeImageURL, pictureName }) => {\r\n  const [status, setStatus] = useState('idle');\r\n\r\n  // Метод добавления/снятия слушателя keydown на window\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyPressESC);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyPressESC);\r\n    };\r\n  }, []);\r\n\r\n  // Метод для открытия модального окна\r\n\r\n  const openModal = () => setStatus('resolved');\r\n\r\n  // Метод для закрытия модального окна по клику мышки\r\n\r\n  const onClickCloseModal = () => setStatus('idle');\r\n\r\n  // Метод для закрытия модального окна по нажатию клавиши Escape\r\n\r\n  const handleKeyPressESC = e => {\r\n    if (e.key === 'Escape') {\r\n      setStatus('idle');\r\n    }\r\n  };\r\n\r\nreturn (\r\n  status === 'idle' ?\r\n      <>\r\n          <li key={id} className={css.imageGalleryItem}>\r\n            <img\r\n              src={url}\r\n              alt={pictureName}\r\n              className={css.imageGalleryItemImage}\r\n              onClick={openModal}\r\n            />\r\n          </li>\r\n  </>\r\n    :\r\n  <Modal\r\n          largeImageURL={largeImageURL}\r\n          pictureName={pictureName}\r\n          onClickModal={onClickCloseModal}\r\n          onChange={handleKeyPressESC}\r\n        />  \r\n)\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  url: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  pictureName: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\n\r\n\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from 'components/ImageGalleryItem';\r\nimport css from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, pictureName }) => { \r\n  return (\r\n    <ul className={css.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem id={id} url={webformatURL} largeImageURL = {largeImageURL} pictureName ={pictureName} />\r\n             ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.object.isRequired,).isRequired,\r\n  pictureName: PropTypes.string.isRequired,\r\n}\r\n\r\n\r\nexport default ImageGallery;\r\n\r\n","import { useState } from 'react';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\nimport PropTypes from \"prop-types\";\r\nimport css from './Searchbar.module.css';\r\n\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n\r\nconst [inputValue, setInputValue] = useState(\"\")\r\n\r\n// Метод для передачи значения input в state\r\n  \r\nconst handleNameChange = e =>setInputValue(e.target.value.toLowerCase())\r\n\r\n\r\n// Метод для передачи state из  Searchbar в App\r\n  \r\nconst handleSubmit = e => {\r\n  e.preventDefault();\r\n  if(inputValue.trim() === '')\r\n  {\r\n    toast.error('Введите запрос для поиска изображений!');\r\n    return\r\n  }\r\n    onSubmit(inputValue);\r\n  setInputValue('');\r\n}\r\n\r\n  return (\r\n    \r\n      <>\r\n    <header className={css.searchbar}>\r\n      <form className={css.searchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={css.searchFormButton}>\r\n          <span className={css.searchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={css.searchFormInput}\r\n          type=\"text\"         \r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          value={inputValue}\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleNameChange}\r\n        />\r\n      </form>\r\n    </header>\r\n    <Toaster position=\"top-center\" toastOptions={{ duration: 1500, style: {border: '1px solid royalblue', width: '500px'}}} />\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nSearchbar.propTypes = {\r\nonSubmit: PropTypes.func.isRequired,  \r\n}\r\n\r\nexport default Searchbar","import PropTypes from 'prop-types';\r\nimport css from './Button.module.css';\r\n\r\nconst Button = ({ onClickImage }) => {\r\n  return (\r\n    <button className={css.button} type = \"button\"  onClick={onClickImage}> Load more </button>\r\n  )\r\n}\r\n\r\nButton.propTypes = {\r\n onClickImage: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Button\r\n\r\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport ImageGallery from 'components/ImageGallery';\nimport Searchbar from 'components/Searchbar';\nimport Loader from 'react-loader-spinner';\nimport css from 'components/Loader/Loader.module.css';\nimport Button from 'components/Button';\n// import Error from 'components/Error';\n// import fetchImage from './service/api';\n\nconst App = () => {\n  const [images, setImages] = useState([]);\n  const [pictureName, setPictureName] = useState('');\n  const [page, setPage] = useState(1);\n  // const [error, setError] = useState('');\n  const [status, setStatus] = useState('idle');\n\n  const BASE_URL = 'https://pixabay.com/api';\n  const KEY_API = '21851432-4720cbd8c8a1bfa0aa0ff2c82&';\n  const URL = `${BASE_URL}/?q=${pictureName}&page=${page}&key=${KEY_API}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  // Метод для рендера страницы при первой загрузке\n\n  useEffect(() => {\n    setStatus('pending');\n    fetch(URL)\n      .then(res => res.json())\n      .then(images => setImages(images.hits), setStatus('resolved'));\n  }, [URL]);\n\n  // Метод для загрузки дополнительных изображений на странице\n\n  // useEffect(() => {\n  //   setStatus('pending');\n  //   fetch(URL)\n  //     .then(images =>\n  //       setImages(\n  //         prevState => [...prevState, ...images.hits],\n  //         setStatus('resolved'),\n  //       ),\n  //     )\n  //     .catch(error => setError(error.message), setStatus('rejected'))\n  //     .finally(() => {\n  //       window.scrollTo({\n  //         top: document.documentElement.scrollHeight,\n  //         behavior: 'smooth',\n  //       });\n  //     });\n  // }, [page]);\n\n  // Метод для получения введеного значения для поиска от клиента в Searchbar\n\n  const handleFormSubmit = pictureName => setPictureName(pictureName);\n\n  // Метод для добавления изображений на странице при нажатии клиентом кнопки Load more\n\n  const imageTotalList = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  if (status === 'idle') {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={handleFormSubmit} />;\n        <ImageGallery images={images} pictureName={pictureName} />\n      </div>\n    );\n  }\n\n  if (status === 'pending') {\n    return (\n      <Loader\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={150}\n        width={150}\n        className={css.loader}\n      />\n    );\n  }\n\n  // if (status === 'rejected') {\n  //   return <Error message={error} />;\n  // }\n\n  if (status === 'resolved') {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={handleFormSubmit} />;\n        <ImageGallery images={images} pictureName={pictureName} />\n        {images.length > 0 && <Button onClickImage={imageTotalList} />}\n      </div>\n    );\n  }\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1ute_\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2iejA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__DbqSo\",\"modal\":\"Modal_modal__2vfqt\"};"],"sourceRoot":""}